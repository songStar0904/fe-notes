<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>EventEmitter</title>
</head>

<body>
    <script type="text/javascript" src="./JavaScript/eventEmitter.js"></script>
    <script>
    	var emitter = new EventEmitter();

    	function handleOne(a, b, c) {
    	    console.log('第一个监听函数', a, b, c)
    	}

    	function handleSecond(a, b, c) {
    	    console.log('第二个监听函数', a, b, c)
    	}

    	function handleThird(a, b, c) {
    	    console.log('第三个监听函数', a, b, c)
    	}

    	emitter.$on("demo", handleOne)
    	       .$once("demo", handleSecond)
    	       .$on("demo", handleThird);

    	emitter.$emit('demo', [1, 2, 3]);
    	// => 第一个监听函数 1 2 3
    	// => 第二个监听函数 1 2 3
    	// => 第三个监听函数 1 2 3

    	emitter.$off('demo', handleThird);
    	emitter.$emit('demo', [1, 2, 3]);
    	// => 第一个监听函数 1 2 3

    	emitter.$allOff();
    	emitter.$emit('demo', [1, 2, 3]);
    	// nothing
    </script>
</body>

</html>